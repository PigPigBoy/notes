# 事务

- ACID特性

属性|含义
:-:|:-:
原子性（Atomicity）|事务是一个原子操作单元。数据修改要么全部成功，要么全部失败
一致性（Consistent）|在事务完成的前后，数据是一致的
隔离性（Isolation）|保证事务不受外部并发操作影响，在“独立”环境下运行
持久性（Durable）|数据不会丢失

- 隔离级别（事务并发问题）
  - 读未提交（`RU`）
    - Read Uncommitted 
    - 未提交的事务也能被查询到
    - A事务提交的数据有可能被B事务覆盖掉，俗称丢失更新
  - 读已提交（`RC`）
    - Read Committed
    - 未提交的事务不能被查询到
    - 同一行数据并发读取时，有可能不一致
  - 可重复读（`RR`）
    - Repeatable Read
    - `mysql默认`
    - 加了行锁，保证了同一行数据并发读取时是保持一致的
    - 多次读取数据会读到新的数据。解决方法有两种，一是加表锁，而是通过`多版本并发控制`（MVCC）解决
  - 串行化
    - 直接锁表